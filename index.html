<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Kim Milyoner Olmak İster</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#0b0d27;color:#fff}
.container{max-width:900px;margin:auto;padding:15px;text-align:center}
#startScreen{margin-top:120px}
#timer{font-size:32px;color:#ffd700}
#question{font-size:22px;margin:15px 0}
.answers button{
 width:100%;margin:6px 0;padding:12px;font-size:16px;
 background:#2d2f55;color:#fff;border:none;border-radius:8px
}
.correct{background:#00a84f!important}
.wrong{background:#d62828!important}
#jokers button{margin:4px;padding:6px 10px;font-size:12px}
#jokers button.used{opacity:.4;pointer-events:none}
#money{margin-top:15px;background:#1a1c3a;padding:10px;border-radius:8px;text-align:left}
.money-step.active{background:#ffd700;color:#000}
.money-step.passed{background:#00a84f;color:#000}
</style>
</head>

<body>
<div class="container">

<div id="startScreen">
<h1>Kim Milyoner Olmak İster</h1>
<button onclick="startGame()" style="padding:15px 30px;font-size:18px">BAŞLA</button>
</div>

<div id="gameScreen" style="display:none">
<div id="timer">45</div>
<div id="question"></div>
<div class="answers" id="answers"></div>

<div id="jokers">
<button id="j50" onclick="useJoker('j50',joker5050)">50:50</button>
<button id="jAud" onclick="useJoker('jAud',jokerAudience)">Seyirci</button>
<button id="jTel" onclick="useJoker('jTel',jokerPhone)">Telefon</button>
<button id="jDouble" onclick="useJoker('jDouble',jokerDouble)">Çift</button>
<button id="jTime" onclick="useJoker('jTime',jokerTime)">Süre</button>
<button id="jChange" onclick="useJoker('jChange',jokerChange)">Değiştir</button>
<button id="jRemove" onclick="useJoker('jRemove',jokerRemove)">Ele</button>
</div>

<div id="money"></div>
</div>
</div>

<audio id="correctSound" src="correct.mp3"></audio>
<audio id="wrongSound" src="wrong.mp3"></audio>

<script>
// ================== SORULAR ==================
// BURAYA KENDİ 120 SORULUK pool DİZİNİNİ AYNEN YAPIŞTIR
const pool = [
 // senin 120 soru burada
];

// ================== OYUN AYARLARI ==================
const moneySteps=["500","1.000","5.000","10.000","25.000","50.000","100.000","250.000","500.000","750.000","1.000.000"];
let questions=[],current=0,time=45,timer;
let used={},doubleAnswer=false;

const startScreen=document.getElementById("startScreen");
const gameScreen=document.getElementById("gameScreen");
const qEl=document.getElementById("question");
const aEl=document.getElementById("answers");
const tEl=document.getElementById("timer");
const mEl=document.getElementById("money");

// ================== OYUN AKIŞI ==================
function startGame(){
 startScreen.style.display="none";
 gameScreen.style.display="block";
 questions=[...pool].sort(()=>0.5-Math.random()).slice(0,11);
 current=0; used={}; doubleAnswer=false;
 document.querySelectorAll("#jokers button").forEach(b=>b.classList.remove("used"));
 loadQuestion();
}

function resetGame(){
 clearInterval(timer);
 gameScreen.style.display="none";
 startScreen.style.display="block";
}

function renderMoney(){
 mEl.innerHTML="";
 moneySteps.forEach((m,i)=>{
  let d=document.createElement("div");
  d.textContent=(i+1)+". "+m+" TL";
  d.className="money-step";
  if(i<current)d.classList.add("passed");
  if(i===current)d.classList.add("active");
  mEl.appendChild(d);
 });
}

function startTimer(){
 clearInterval(timer);
 time=45;
 tEl.textContent=time;
 timer=setInterval(()=>{
  time--;
  tEl.textContent=time;
  if(time<=0) answer(false,null);
 },1000);
}

function loadQuestion(){
 renderMoney();
 aEl.innerHTML="";
 qEl.textContent=questions[current].q;
 questions[current].a.forEach((t,i)=>{
  let b=document.createElement("button");
  b.textContent=t;
  b.onclick=()=>answer(i===questions[current].c,b);
  aEl.appendChild(b);
 });
 startTimer();
}

function answer(correct,btn){
 clearInterval(timer);

 if(correct){
  btn.classList.add("correct");
  correctSound.play();
  setTimeout(()=>{
   current++;
   if(current>=questions.length) resetGame();
   else loadQuestion();
  },3000);
 }else{
  if(doubleAnswer){
   doubleAnswer=false;
   btn.disabled=true;
   return;
  }
  btn.classList.add("wrong");
  wrongSound.play();
  setTimeout(resetGame,3000);
 }
}

// ================== JOKER SİSTEMİ ==================
function useJoker(id,fn){
 if(used[id]) return;
 used[id]=true;
 document.getElementById(id).classList.add("used");
 fn();
}

// ================== JOKERLER ==================
function joker5050(){
 const correct=questions[current].c;
 let removed=0;
 document.querySelectorAll(".answers button").forEach((b,i)=>{
  if(i!==correct && removed<2){
   b.style.display="none";
   removed++;
  }
 });
}

function jokerAudience(){
 const c=questions[current].c;
 alert(
  "Seyirci oyları:\n" +
  questions[current].a.map((x,i)=> (i===c?"%70 ":"%10 ")+x).join("\n")
 );
}

function jokerPhone(){
 alert("Telefon jokeri:\nCevap: "+questions[current].a[questions[current].c]);
}

function jokerDouble(){
 doubleAnswer=true;
 alert("Çift cevap aktif. Bir yanlış yapma hakkın var.");
}

function jokerTime(){
 time+=15;
 tEl.textContent=time;
}

function jokerChange(){
 clearInterval(timer);
 let next;
 do{
  next=Math.floor(Math.random()*questions.length);
 }while(next===current);
 current=next;
 loadQuestion();
}

function jokerRemove(){
 const btns=[...document.querySelectorAll(".answers button")];
 const wrongs=btns.filter((b,i)=>i!==questions[current].c && !b.disabled);
 if(wrongs.length>0){
  wrongs[Math.floor(Math.random()*wrongs.length)].disabled=true;
 }
}
</script>
</body>
</html>
